#pragma once

#include "Nexus-Core/nxpch.hpp"

namespace Nexus
{
	/// @brief An enum representing the character pressed on the keyboard
	enum class KeyCode
	{
		Return,
		Escape,
		Backspace,
		Tab,
		Space,
		Exclaim,
		QuoteDBL,
		Hash,
		Percent,
		Dollar,
		Ampersand,
		Quote,
		LeftParenthesis,
		RightParenthesis,
		Asterisk,
		Plus,
		Comma,
		Minus,
		Period,
		Slash,
		Zero,
		One,
		Two,
		Three,
		Four,
		Five,
		Six,
		Seven,
		Eight,
		Nine,
		Colon,
		Semicolon,
		Less,
		Equals,
		Greater,
		Question,
		At,

		LeftBracket,
		BackSlash,
		RightBracket,
		Caret,
		Underscore,
		BackQuote,
		A,
		B,
		C,
		D,
		E,
		F,
		G,
		H,
		I,
		J,
		K,
		L,
		M,
		N,
		O,
		P,
		Q,
		R,
		S,
		T,
		U,
		V,
		W,
		X,
		Y,
		Z,

		CapsLock,

		F1,
		F2,
		F3,
		F4,
		F5,
		F6,
		F7,
		F8,
		F9,
		F10,
		F11,
		F12,

		PrintScreen,
		ScrollLock,
		Pause,
		Insert,
		Home,
		PageUp,
		Delete,
		End,
		PageDown,
		Right,
		Left,
		Down,
		Up,

		NumLockClear,
		KeyPad_Divide,
		KeyPad_Multiply,
		KeyPad_Minus,
		KeyPad_Plus,
		KeyPad_Enter,
		KeyPad_One,
		KeyPad_Two,
		KeyPad_Three,
		KeyPad_Four,
		KeyPad_Five,
		KeyPad_Six,
		KeyPad_Seven,
		KeyPad_Eight,
		KeyPad_Nine,
		KeyPad_Zero,
		KeyPad_Period,

		Application,
		Power,
		KeyPad_Equals,
		F13,
		F14,
		F15,
		F16,
		F17,
		F18,
		F19,
		F20,
		F21,
		F22,
		F23,
		F24,
		Execute,
		Help,
		Menu,
		Select,
		Stop,
		Again,
		Undo,
		Cut,
		Copy,
		Paste,
		Find,
		Mute,
		VolumeUp,
		VolumeDown,
		KeyPad_Comma,
		Keypad_EqualsAs400,

		AltErase,
		SysReq,
		Cancel,
		Clear,
		Prior,
		Return2,
		Separator,
		Out,
		Oper,
		ClearAgain,
		CRSEL,
		EXSEL,

		KeyPad_00,
		KeyPad_000,
		ThounsandsSeparator,

		DecimalSeparator,
		CurrencyUnit,
		CurrencySubUnit,
		KeyPad_LeftParenthesis,
		KeyPad_RightParenthesis,
		KeyPad_LeftBrace,
		KeyPad_RightBrace,
		KeyPad_Tab,
		KeyPad_Backspace,
		KeyPad_A,
		KeyPad_B,
		KeyPad_C,
		KeyPad_D,
		KeyPad_E,
		KeyPad_F,
		KeyPad_XOR,
		KeyPad_Power,
		KeyPad_Percent,
		KeyPad_Less,
		KeyPad_Greater,
		KeyPad_Ampersand,
		Keypad_DBLAmpersand,
		KeyPad_VerticalBar,
		Keypad_DBLVerticalBar,
		Keypad_Colon,
		Keypad_Hash,
		Keypad_Space,
		Keypad_At,
		Keypad_Exclam,
		Keypad_MemStore,
		Keypad_MemRecall,
		Keypad_MemClear,
		Keypad_MemAdd,
		Keypad_MemSubtract,
		Keypad_MemMultiply,
		Keypad_MemDivide,
		Keypad_PlusMinus,
		KeyPad_Clear,
		KeyPad_ClearEntry,
		KeyPad_Binary,
		Keypad_Octal,
		Keypad_Decimal,
		Keypad_Hexidecimal,

		LeftControl,
		LeftShift,
		LeftAlt,
		LeftGUI,
		RightControl,
		RightShift,
		RightAlt,
		RightGUI,

		Mode,

		AudioNext,
		AudioPrevious,
		AudioStop,
		AudioPlay,
		AudioMute,
		MediaSelect,
		WWW,
		Mail,
		Calculator,
		Computer,
		AC_Search,
		AC_Home,
		AC_Back,
		AC_Forward,
		AC_Stop,
		AC_Refresh,
		AC_Bookmarks,

		BrightnessDown,
		BrightnessUp,
		DisplaySwitch,
		DillumToggle,
		DillumDown,
		DillumUp,
		Eject,
		Sleep,
		App1,
		APpp2,

		AudioRewind,
		AudioFastForward,

		SoftLeft,
		SoftRight,
		Call,
		EndCall
	};

	/// @brief An enum class representing the position of the key on the keyboard
	enum class ScanCode
	{
		A,
		B,
		C,
		D,
		E,
		F,
		G,
		H,
		I,
		J,
		K,
		L,
		M,
		N,
		O,
		P,
		Q,
		R,
		S,
		T,
		U,
		V,
		W,
		X,
		Y,
		Z,

		One,
		Two,
		Three,
		Four,
		Five,
		Six,
		Seven,
		Eight,
		Nine,
		Zero,

		RETURN,
		ESCAPE,
		BACKSPACE,
		TAB,
		SPACE,

		MINUS,
		EQUALS,
		LEFTBRACKET,
		RIGHTBRACKET,
		BACKSLASH,
		NONUSHASH,
		SEMICOLON,
		APOSTROPHE,
		GRAVE,

		COMMA,
		PERIOD,
		SLASH,

		CAPSLOCK,

		F1,
		F2,
		F3,
		F4,
		F5,
		F6,
		F7,
		F8,
		F9,
		F10,
		F11,
		F12,

		PRINTSCREEN,
		SCROLLLOCK,
		PAUSE,
		INSERT,

		HOME,
		PAGEUP,
		Delete,
		END,
		PAGEDOWN,
		RIGHT,
		LEFT,
		DOWN,
		UP,

		NUMLOCKCLEAR,
		KP_DIVIDE,
		KP_MULTIPLY,
		KP_MINUS,
		KP_PLUS,
		KP_ENTER,
		KP_1,
		KP_2,
		KP_3,
		KP_4,
		KP_5,
		KP_6,
		KP_7,
		KP_8,
		KP_9,
		KP_0,
		KP_PERIOD,

		NONUSBACKSLASH,
		APPLICATION,
		POWER,

		KP_EQUALS,
		F13,
		F14,
		F15,
		F16,
		F17,
		F18,
		F19,
		F20,
		F21,
		F22,
		F23,
		F24,
		EXECUTE,
		HELP,
		MENU,
		SELECT,
		STOP,
		AGAIN,
		UNDO,
		CUT,
		COPY,
		PASTE,
		FIND,
		MUTE,
		VOLUMEUP,
		VOLUMEDOWN,

		KP_COMMA,
		KP_EQUALSAS400,

		INTERNATIONAL1,
		INTERNATIONAL2,
		INTERNATIONAL3,
		INTERNATIONAL4,
		INTERNATIONAL5,
		INTERNATIONAL6,
		INTERNATIONAL7,
		INTERNATIONAL8,
		INTERNATIONAL9,
		LANG1,
		LANG2,
		LANG3,
		LANG4,
		LANG5,
		LANG6,
		LANG7,
		LANG8,
		LANG9,

		ALTERASE,
		SYSREQ,
		CANCEL,
		CLEAR,
		PRIOR,
		RETURN2,
		SEPARATOR,
		Out,
		OPER,
		CLEARAGAIN,
		CRSEL,
		EXSEL,

		KP_00,
		KP_000,
		THOUSANDSSEPARATOR,
		DECIMALSEPARATOR,
		CURRENCYUNIT,
		CURRENCYSUBUNIT,
		KP_LEFTPAREN,
		KP_RIGHTPAREN,
		KP_LEFTBRACE,
		KP_RIGHTBRACE,
		KP_TAB,
		KP_BACKSPACE,
		KP_A,
		KP_B,
		KP_C,
		KP_D,
		KP_E,
		KP_F,
		KP_XOR,
		KP_POWER,
		KP_PERCENT,
		KP_LESS,
		KP_GREATER,
		KP_AMPERSAND,
		KP_DBLAMPERSAND,
		KP_VERTICALBAR,
		KP_DBLVERTICALBAR,
		KP_COLON,
		KP_HASH,
		KP_SPACE,
		KP_AT,
		KP_EXCLAM,
		KP_MEMSTORE,
		KP_MEMRECALL,
		KP_MEMCLEAR,
		KP_MEMADD,
		KP_MEMSUBTRACT,
		KP_MEMMULTIPLY,
		KP_MEMDIVIDE,
		KP_PLUSMINUS,
		KP_CLEAR,
		KP_CLEARENTRY,
		KP_BINARY,
		KP_OCTAL,
		KP_DECIMAL,
		KP_HEXADECIMAL,

		LCTRL,
		LSHIFT,
		LALT,
		LGUI,
		RCTRL,
		RSHIFT,
		RALT,
		RGUI,

		MODE,

		AUDIONEXT,
		AUDIOPREV,
		AUDIOSTOP,
		AUDIOPLAY,
		AUDIOMUTE,
		MEDIASELECT,
		WWW,
		MAIL,
		CALCULATOR,
		COMPUTER,
		AC_SEARCH,
		AC_HOME,
		AC_BACK,
		AC_FORWARD,
		AC_STOP,
		AC_REFRESH,
		AC_BOOKMARKS,

		BRIGHTNESSDOWN,
		BRIGHTNESSUP,
		DISPLAYSWITCH,

		KBDILLUMTOGGLE,
		KBDILLUMDOWN,
		KBDILLUMUP,
		EJECT,
		SLEEP,

		APP1,
		APP2,

		AUDIOREWIND,
		AUDIOFASTFORWARD,

		SOFTLEFT,
		SOFTRIGHT,

		CALL,
		ENDCALL
	};

	/// @brief A class containing the current state of a set of keys
	class Keyboard
	{
	  public:
		/// @brief A method that caches the previous frames key states
		void CacheInput();

		/// @brief A method that checks whether a key is currently held
		/// @param code The keycode to check the state of
		/// @return A boolean value representing whether a key was held
		const bool IsKeyHeld(KeyCode code) const;

		/// @brief A method that checks whether a key is currently pressed
		/// @param code The keycode to check the state of
		/// @return A boolean value representing whether a key was pressed
		const bool WasKeyPressed(KeyCode code) const;

		/// @brief A method that checks whether a key is currently released
		/// @param code The keycode to check the state of
		/// @return A boolean value representing whether a key was released
		const bool WasKeyReleased(KeyCode code) const;

		const std::map<KeyCode, bool> &GetKeys() const;

	  private:
		/// @brief A map containing the current state of the keyboard's keys
		mutable std::map<KeyCode, bool> m_CurrentKeys;

		/// @brief A map containing the state of the keyboard's keys in the previous
		/// frame
		mutable std::map<KeyCode, bool> m_PreviousKeys;

		/// @brief A friend class to allow a window to access the private properties
		/// of this class
		friend class Window;

		friend class Application;
	};
}	 // namespace Nexus